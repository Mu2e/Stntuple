# -*- mode:tcl -*-
#------------------------------------------------------------------------------
# generate 105 MeV/c electrons
# make STNTUPLE in one go, without creating an intermediate file
# for 105 MeV/c electron : E = 105.00124           MeV
# for 105 MeV/c muon     : E = 148.9584269653785   MeV
#------------------------------------------------------------------------------
# muStops must be commented out for grid production.
BEGIN_PROLOG
#  muStops    : [ @local::mergedMuonStops ]
  pdgCode    : 11
  bgHitFiles : @nil
END_PROLOG

#include "minimalMessageService.fcl"
#include "standardProducers.fcl"
#include "standardServices.fcl"

#include "Stntuple/fcl/templates.fcl"

#process_name : EgunMergePatRecStnmaker

source       : { module_type : EmptyEvent }

physics.producers.generate : { @table::StoppedParticleReactionGun 
    physics : {
	pdgId            : @local::pdgCode
	elow             : 105.0010
 	ehi              : 105.0015
 	spectrumVariable : "totalEnergy"
 	spectrumShape    : "flat"
    }
}
#
# can use path names specified in 'physics.' context w/o prefixing
#
#  physics.trigger_paths : [ gen_allpatrec_reco_stnmaker ]
physics.trigger_paths : [ gen_allpatrec_digi_display ]
physics.end_paths     : [ out ]

physics.filters.StntupleMaker             : @local::StntupleMaker3 
physics.filters.MuHitDisplay.caloCrystalHitsMaker             : "CaloCrystalHitsFromCaloHits"

#physics.producers.CaloHitsFromCaloDigis.diagLevel            : 1
physics.producers.CaloHitsFromCaloDigis.processorStrategy    : 2
physics.producers.MakeCaloProtoCluster.caloCrystalModuleLabel : "CaloCrystalHitsFromCaloHits"

services.TFileService.fileName            : "egun_stnmaker_digi.hist"

services.user.SeedService.baseSeed             :  0
services.user.SeedService.maxUniqueEngines     :  20

physics.filters.InitStntuple.histFileName : "egun_stnmaker_digi.stn" 
#------------------------------------------------------------------------------
# uncomment the next 2 lines if you want the DST file to be written out
#-----------------------------------------------------------------------------
# physics.out                               : [ detectorOutput ]
# outputs.detectorOutput.SelectEvents       : { SelectEvents : [ gen_allpatrec_reco_stnmaker ] }
outputs.detectorOutput.fileName           : "egun_stnmaker_digi.root"
#------------------------------------------------------------------------------
# debugging
#------------------------------------------------------------------------------
# physics.producers.CalPatRecDem.diagLevel : 1
# physics.producers.CalPatRecDmm.diagLevel : 1
# physics.producers.AvikPID.debugLevel     : 100
#------------------------------------------------------------------------------
# everything below is appended by murat/scripts/submit_mu2e_job
#------------------------------------------------------------------------------
